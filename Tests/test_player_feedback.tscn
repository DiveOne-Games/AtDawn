[gd_scene load_steps=10 format=3 uid="uid://bi8sufviarnbk"]

[ext_resource type="PackedScene" uid="uid://biapgn312ufql" path="res://Assets/Characters/Warrior/Warrior.tscn" id="1_pjc6b"]
[ext_resource type="PackedScene" uid="uid://hovsdgqitcu6" path="res://Assets/Levels/crypts/tilemap_floor_base.tscn" id="2_2pe0n"]
[ext_resource type="PackedScene" uid="uid://d1tg12bmwlq6x" path="res://Assets/Prefabs/loot_box/wooden_chest.tscn" id="3_2pe0n"]
[ext_resource type="PackedScene" uid="uid://6ya3lsb1wm00" path="res://Assets/Characters/controllers/unit.tscn" id="3_lmf6a"]
[ext_resource type="PackedScene" uid="uid://dfwtd66t2il4j" path="res://Assets/Prefabs/destructibles/destructible.tscn" id="4_m3agv"]
[ext_resource type="PackedScene" uid="uid://k8fmqlpbjhkj" path="res://Assets/Effects/smoke_cloud/smoke_cloud.tscn" id="6_pjc6b"]
[ext_resource type="PackedScene" uid="uid://ccw2h22w7a8w6" path="res://Assets/UI/floating_text.tscn" id="7_bclgq"]
[ext_resource type="PackedScene" uid="uid://dk4cw2yqd5jnp" path="res://Assets/Characters/Skeleton/Skeleton.tscn" id="7_lmf6a"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_lmf6a"]
vertices = PackedVector2Array(794.90625, 755.96875, 793.0781, 982.02344, 427.84375, 982.96875, 424.15625, 755.02344)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(414, 745, 805, 746, 803, 992, 418, 993)])

[node name="TestPlayerFeedback" type="Node2D"]

[node name="TileMapBase" parent="." instance=ExtResource("2_2pe0n")]

[node name="Warrior" parent="." instance=ExtResource("1_pjc6b")]
position = Vector2(1110, 483)
collision_mask = 17

[node name="WoodenChest" parent="." instance=ExtResource("3_2pe0n")]
position = Vector2(676, 378)

[node name="Destructible" parent="." instance=ExtResource("4_m3agv")]
position = Vector2(557, 484)
scale = Vector2(1.5, 1.5)

[node name="SmokeCloud" parent="Destructible" instance=ExtResource("6_pjc6b")]

[node name="FloatingText" parent="Destructible" instance=ExtResource("7_bclgq")]

[node name="Destructible2" parent="." instance=ExtResource("4_m3agv")]
position = Vector2(577, 495.00003)
scale = Vector2(1.5, 1.5)
type = 1

[node name="SmokeCloud" parent="Destructible2" instance=ExtResource("6_pjc6b")]

[node name="FloatingText" parent="Destructible2" instance=ExtResource("7_bclgq")]

[node name="Destructible3" parent="." instance=ExtResource("4_m3agv")]
position = Vector2(544, 497.00003)
scale = Vector2(1.5, 1.5)

[node name="SmokeCloud" parent="Destructible3" instance=ExtResource("6_pjc6b")]

[node name="FloatingText" parent="Destructible3" instance=ExtResource("7_bclgq")]

[node name="Destructible4" parent="." instance=ExtResource("4_m3agv")]
position = Vector2(561, 510)
scale = Vector2(1.5, 1.5)

[node name="SmokeCloud" parent="Destructible4" instance=ExtResource("6_pjc6b")]

[node name="FloatingText" parent="Destructible4" instance=ExtResource("7_bclgq")]

[node name="CharControllerTest" parent="." instance=ExtResource("3_lmf6a")]
position = Vector2(1275, 431)
player_speed = 5
health = 25
rest_duration = 3

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_lmf6a")

[node name="Marker2D" type="Marker2D" parent="."]
position = Vector2(463, 847)

[node name="Skeleton" parent="." node_paths=PackedStringArray("patrol_destination") instance=ExtResource("7_lmf6a")]
position = Vector2(716, 837)
patrol_destination = NodePath("../Marker2D")

[connection signal="object_destroyed" from="Destructible" to="Destructible/SmokeCloud" method="_on_event"]
[connection signal="object_destroyed" from="Destructible" to="Destructible/FloatingText" method="_on_destructible_object_destroyed"]
[connection signal="object_destroyed" from="Destructible2" to="Destructible2/SmokeCloud" method="_on_event"]
[connection signal="object_destroyed" from="Destructible2" to="Destructible2/FloatingText" method="_on_destructible_object_destroyed"]
[connection signal="object_destroyed" from="Destructible3" to="Destructible3/SmokeCloud" method="_on_event"]
[connection signal="object_destroyed" from="Destructible3" to="Destructible3/FloatingText" method="_on_destructible_object_destroyed"]
[connection signal="object_destroyed" from="Destructible4" to="Destructible4/SmokeCloud" method="_on_event"]
[connection signal="object_destroyed" from="Destructible4" to="Destructible4/FloatingText" method="_on_destructible_object_destroyed"]
